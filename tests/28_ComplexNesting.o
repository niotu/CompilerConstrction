class ArrayChecker is
    method nestedCalls(arr : Array[Integer]) : Real is
        var maxIndex : Integer(arr.Length().Minus(Integer(1)))
        var firstValue : Integer(arr.get(Integer(0)))
        var lastValue : Integer(arr.get(maxIndex))
        
        var sum : Integer(firstValue.Plus(lastValue))
        var realSum : Real(sum.toReal())
        var doubled : Real(realSum.Mult(Real(2.0)))
        
        var checkLess : Boolean(firstValue.Less(lastValue))
        var checkEqual : Boolean(firstValue.Equal(lastValue))
        var checkResult : Boolean(checkLess.Or(checkEqual))
        
        var finalValue : Real(doubled.Div(Real(3.0)))
        
        if checkResult then
            finalValue := finalValue.Plus(Real(10.5))
        end
        
        return finalValue
    end
end

class Main is
    method main() is
        var res : Real()
        var a : ArrayChecker()
        var arr : Array[Integer](5)
        arr.set(0, 3)
        arr.set(1, 7)
        arr.set(2, 2)
        arr.set(3, 9)
        arr.set(4, 1)
        res := a.nestedCalls(arr)
        res.Print()
    end
end